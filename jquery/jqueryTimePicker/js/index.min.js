!function(t,e){var n={placeholder:"请输入时间",times:(new Date).toTimeString().substr(0,8)},i={_init:function(){return this._render()._handle()},_render:function(){for(var t="",e="",n=0;n<10;n++)e+="<li>0"+n+"</li>";for(n=10;n<24;n++)e+="<li>"+n+"</li>";t=e;for(n=24;n<60;n++)e+="<li>"+n+"</li>";var i='<input type="text" class="_content" placeholder="'+this.placeholder+'"><i class="fa fa-clock-o"></i><i class="fa fa-times-circle"></i><div class="_times '+(!0===this.autoScrollY?"autoScrollY":"")+'"><div class="_hours"><ul>'+t+'</ul></div><div class="_minutes"><ul>'+e+'</ul></div><div class="_seconds"><ul>'+e+"</ul></div></div>",s=this.addClass("_time-picker _close").html(i).find(">input._content").data("prevTimes",this.times),r=s.nextAll("div._times").find(">div:first"),l=this.times.split(":");return this.li_height=r.find(">ul >li:first").height(),this._scrollY(s,r,Number(l[0]))._scrollY(s,r=r.next(),Number(l[1]))._scrollY(s,r=r.next(),Number(l[2]))},_handle:function(){var e=this,n=!1,i=!1;return this.hover(function(t){n=!1},function(t){n=!0}).find(">input._content").on("focus",function(n){if(n.stopPropagation(),i)return i=!1,this;var s=t(this);s.parent().removeClass("_close").addClass("_open").siblings().removeClass("_open").addClass("_close"),e._setInputSelectRange({$input:s,startPos:0,endPos:this.value.length,isOpen:!0})}).nextAll("i.fa-times-circle").on("click",function(e){var n=t(this).prevAll("input._content");n.val()&&n.val("")}).nextAll("._times").find(">div").on("click",function(n){n.stopPropagation();var s=t(this).parent().prevAll("input._content");i||(i=!0),e._setInputSelectRange({$input:s})}).on("mouseover",function(n){var i=t(this),s=t(this).parent().prevAll("input._content");e._restoreInputEffectVal(s)._setInputSelectRange({$input:s,startPos:3*i.index(),isOpen:!0})}).on("wheel",function(n){n.preventDefault(),n.stopPropagation();var i=t(this),s=i.parent().prevAll("input._content"),r=Number(i.data("activeLiIndex"))||0,l=120===n.originalEvent.wheelDeltaY?"top":"bottom";e._restoreInputEffectVal(s)._setInputSelectRange({$input:s,startPos:3*i.index(),isOpen:!0}),0===r&&"top"===l||r===i.find(">ul >li").size()-1&&"bottom"===l||("top"===l?--r:++r,e._scrollY(s,i,r))}).find(">ul >li").on("click",function(n){n.stopPropagation();var s=t(this),r=s.parent().parent(),l=r.parent().prevAll("input._content");i||(i=!0),e._scrollY(l,r,s.text())._restoreInputEffectVal(l)._setInputSelectRange({$input:l})}).parents("html").on("click",function(t){n&&(n=!1,e.removeClass("_open").addClass("_close"))}),this},_scrollY:function(t,e,n){n=Number(n)||0;var i=(t.val()||t.data("prevTimes")).split(":");return i[e.index()]=n<10?"0"+n:n,i=i.join(":"),t.val(i).data("prevTimes",i),e.data("activeLiIndex",n).find(">ul").css("transform","translateY(-"+this.li_height*n+"px"),this},_setInputSelectRange:function(t){setTimeout(function(){if(t.isOpen=t.isOpen||!1,t.isOpen){var e=t.$input[0],n=t.startPos,i=t.endPos;if(i||(i=n+2),e.setSelectionRange)e.setSelectionRange(n,i);else if(e.createTextRange){var s=e.createTextRange();s.moveStart("character",n),s.moveEnd("character",i),s.select()}}else t.$input.trigger("focus");return this}.bind(this),0)},_restoreInputEffectVal:function(t){var e=t.data("prevTimes"),n=t.val();return n&&n!==e&&t.val(e),this}};if(t.fn.hasOwnProperty(e))throw new Error("插件 "+e+" 已存在");t.fn[e]=function(e){return(e=e||{}).hasOwnProperty("times")&&!1===/^([0-1]\d|2[0-3]):([0-5]\d):([0-5]\d)$/.test(e.times)&&alert("请输入标准的时间格式"),t.extend(this,n,e,i)._init()}}(window.jQuery,"jqueryTimePicker");