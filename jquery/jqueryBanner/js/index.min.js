!function(t,e){var i={data:[],activeIndex:0,intervalTime:1,isOpenCustomEvent:!1,isOpenAutoPlay:!0,titleConfig:{showType:"square",direction:"left",borderLeftWidth:5,totalWidth:void 0,eventType:"hover"},carouselConfig:{isInit:!0,fn:void 0,time:0,type:"toogle"}},n={_isNumber:function(t){if("NaN"===String(t)||"number"!=typeof t)throw new Error(t+"必须是有效的数字");return this},_isBoolean:function(t){if("boolean"!=typeof t)throw new Error(t+"必须是布尔类型");return this},_isFunction:function(t){if("function"!=typeof t)throw new Error(t+"必须是函数类型");return this},_type:function(t){return Object.prototype.toString.call(t).slice(8,-1)},_extend:function(){for(var t=arguments[0],e=1,i=arguments.length;e<i;e++)this._extendInnerJson(t,arguments[e]);return this},_extendInnerJson:function(t,e){if("Object"!==this._type(e))throw new Error(e+"必须是对象");return Object.keys(e).map(function(i,n){var s=t[i],r=e[i];if(t.hasOwnProperty(i)&&"Object"===this._type(s)){if("Object"!==this._type(r))throw new Error(i+"必须是对象");return this._extendInnerJson(s,r)}t[i]=r}.bind(this)),this}},s={_init:function(){if(n._isNumber(this.activeIndex)._isNumber(this.intervalTime)._isNumber(this.titleConfig.borderLeftWidth)._isBoolean(this.isOpenCustomEvent)._isBoolean(this.isOpenAutoPlay)._isBoolean(this.carouselConfig.isInit),this.titleConfig.totalWidth&&n._isNumber(this.titleConfig.totalWidth),this.carouselConfig.fn&&n._isFunction(this.carouselConfig.fn),this.carouselConfig.time&&n._isNumber(this.carouselConfig.time),this.activeIndex<0||this.activeIndex>this.data.length-1)throw new Error("activeIndex 必须是 0~"+(this.data.length-1)+" 之间的数字");return this.prevActiveIndex=-1,this._render()._carousel()._handel()._autoPlay()},_render:function(){var e="",i="",n=t("<ul></ul>").addClass("_title"),s=t("<ul></ul>").addClass("_picture"),r=this.titleConfig.direction;switch(this.data.forEach(function(t){e+="<li>"+(t.title||"")+"</li>",i+="<li><a href='"+(t.href||"javascript: void(0);")+"' target='_blank'><img src="+(t.src||"")+" alt="+(t.alt||"")+"></a></li>"}),t(this).addClass("_content").html("").append(n.html(e).addClass("_"+this.titleConfig.showType)).append(s.html(i)),this._$lis_title=n.find(">li"),this._$lis_picture=s.find(">li"),r){case"left":case"right":n.addClass("_horizontal _"+r);break;case"top":case"bottom":if(n.addClass("_vertical _"+r),"square"===this.titleConfig.showType){var a=n.find(">li").css(["width","marginRight"]),o=parseInt(a.marginRight)||0,h=this.titleConfig.totalWidth||((parseInt(a.width)||0)+o)*this.data.length-o+this.titleConfig.borderLeftWidth;n.css("width",h)}}return this},_carousel:function(){if(this.prevActiveIndex===this.activeIndex)return this;var t=this.carouselConfig.fn,e=this.carouselConfig.isInit;if(e&&this._$lis_picture.eq(this.activeIndex).show(),t)t.bind(this)();else if(this._$lis_title.eq(this.prevActiveIndex).removeClass("_active"),this._$lis_title.eq(this.activeIndex).addClass("_active"),!e){var i="",n="",s=1e3*this.carouselConfig.time/2||void 0;switch(this.carouselConfig.type){case"fade":i="fadeOut",n="fadeIn";break;case"slide":i="slideUp",n="slideDown";break;default:i="hide",n="show"}this._$lis_picture.eq(this.prevActiveIndex)[i](s),this._$lis_picture.eq(this.activeIndex)[n](s)}return e&&(this.carouselConfig.isInit=!1),this},_autoPlay:function(){if(this._intervalTimer&&clearInterval(this._intervalTimer),"hover"===this.titleConfig.eventType&&this.isOpenAutoPlay){var t=this.data.length-1,e=1e3*this.intervalTime+(1e3*this.carouselConfig.time||0);this._intervalTimer=setInterval(function(){this.prevActiveIndex=this.activeIndex,this.activeIndex=this.activeIndex>=t?0:this.activeIndex+1,this._carousel()}.bind(this),e)}return this},_handel:function(){var e=this;if("click"===this.titleConfig.eventType)return this._$lis_title.click(function(i){e._activeEvent({activeIndex:t(this).index(),customEvents:["beforeTitleClick","afterTitleClick"]})}),this;var i=t(this);return e.isOpenAutoPlay&&i.hover(function(t){e.isOpenCustomEvent?(e._attachEvent("beforeContentHover"),clearInterval(e._intervalTimer),e._attachEvent("afterContentHover")):clearInterval(e._intervalTimer)},function(t){var n=t.clientX,s=t.clientY,r=i.offset(),a=r.left,o=r.top,h=a+i.width(),c=o+i.height();(n<a||n>h||s<o||s>c)&&(e.isOpenCustomEvent?e._attachEvent("beforeContentLeave")._autoPlay()._attachEvent("afterContentLeave"):e._autoPlay())}),this._$lis_title.hover(function(i){e.isOpenAutoPlay&&(i.stopPropagation(),clearInterval(e._intervalTimer)),e._activeEvent({activeIndex:t(this).index(),customEvents:["beforeTitleHover","afterTitleHover"]})},function(t){e.prevActiveIndex=e.activeIndex,e.isOpenCustomEvent&&e._attachEvent("titleLeave")}),this},_activeEvent:function(t){return this.prevActiveIndex=this.activeIndex,this.activeIndex=t.activeIndex,this.prevActiveIndex===this.activeIndex?this:(this.isOpenCustomEvent&&t.customEvents?this._attachEvent(t.customEvents[0])._carousel()._attachEvent(t.customEvents[1]):this._carousel(),this)},_attachEvent:function(t){return this.trigger(t,{prevActiveIndex:this.prevActiveIndex,prevActiveTitleDom:this._$lis_title.eq(this.prevActiveIndex),prevActivePictureDom:this._$lis_picture.eq(this.prevActiveIndex),activeIndex:this.activeIndex,activeTitleDom:this._$lis_title.eq(this.activeIndex),activePictureDom:this._$lis_picture.eq(this.activeIndex)})}};if(t.fn.hasOwnProperty(e))throw new Error("插件 "+e+" 已存在");t.fn[e]=function(t){return n._extend(this,i,t||{},s),this._init()}}(window.jQuery,"jqueryBanner");